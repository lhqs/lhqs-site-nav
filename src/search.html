<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="乱红如雨的聚合搜索工具 - 一站式搜索多个引擎，提高信息获取效率，支持Google、百度、必应、DuckDuckGo等多个搜索引擎，让搜索更高效便捷。">
    <meta name="keywords" content="lhqs,乱红倾世,乱红如雨,聚合搜索,多引擎搜索,搜索工具,信息获取,Google搜索,百度搜索,必应搜索,DuckDuckGo,搜索引擎,一站式搜索">
    <meta name="author" content="乱红如雨">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://info.lhqs.ink/search.html">
    <meta property="og:title" content="乱红如雨 | 聚合搜索工具 - 多引擎一站式搜索">
    <meta property="og:description" content="一站式搜索多个引擎，提高信息获取效率，支持Google、百度、必应、DuckDuckGo等多个搜索引擎，让搜索更高效便捷。">
    <meta property="og:image" content="https://static.lhqs.ink/site/nav/L.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="乱红如雨个人导航站">
    <meta property="og:locale" content="zh_CN">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://info.lhqs.ink/search.html">
    <meta property="twitter:title" content="乱红如雨 | 聚合搜索工具 - 多引擎一站式搜索">
    <meta property="twitter:description" content="一站式搜索多个引擎，提高信息获取效率，支持Google、百度、必应等多个搜索引擎。">
    <meta property="twitter:image" content="https://static.lhqs.ink/site/nav/L.png">
    
    <!-- Favicon -->
    <link rel="icon" href="https://static.lhqs.ink/site/nav/L.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://static.lhqs.ink/site/nav/L.png">
    <link rel="apple-touch-icon" href="https://static.lhqs.ink/site/nav/L.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://info.lhqs.ink/search.html">
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//static.lhqs.ink">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" href="./css/output.css">
    
    <!-- SEO增强脚本 -->
    <script src="./js/seo-enhancements.js" defer></script>
    <title>乱红如雨 | 聚合搜索工具 - 多引擎一站式搜索</title>
    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "乱红如雨 | 聚合搜索工具",
      "alternateName": "乱红如雨聚合搜索",
      "url": "https://info.lhqs.ink/search.html",
      "description": "一站式搜索多个引擎，提高信息获取效率，支持Google、百度、必应、DuckDuckGo等多个搜索引擎，让搜索更高效便捷。",
      "inLanguage": "zh-CN",
      "author": {
        "@type": "Person",
        "name": "乱红如雨",
        "email": "lhqs.gu@gmail.com",
        "jobTitle": "软件工程师"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://info.lhqs.ink/search.html?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    
    <!-- 面包屑导航结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "首页",
          "item": "https://info.lhqs.ink/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "聚合搜索",
          "item": "https://info.lhqs.ink/search.html"
        }
      ]
    }
    </script>
    <!-- 分析工具 -->
    <script async defer data-website-id="cd444eb4-efa9-4aa8-830a-4d81a291f2db" src="https://flynode.likeviu.com/flynode.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9GV7RCT5D5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-9GV7RCT5D5');
    </script>
</head>
<body>

    <header>
        <nav class="flex flex-nowrap justify-between bg-black text-white font-bold" aria-label="主导航">
            <h1 id="slogan" class="px-4 py-2 hover:text-sky-400"><a href="./index.html" title="返回乱红如雨首页" aria-label="返回首页">乱红如雨的个人站点</a></h1>
            <div class="px-4 py-2">
                <span class="hover:text-sky-400"><a href="./index.html" title="查看标签导航" aria-label="标签导航页面">标签导航</a></span>
            </div>
        </nav>
    </header>

    <main>
        <section aria-labelledby="search-section" class="search-form">
            <h2 id="search-section" class="sr-only">聚合搜索</h2>
            <div class="pt-4 flex justify-center">
                <div class="flex w-full md:3/4 xl:w-1/2 mx-1 ">
                    <div id="sform" class="w-full pt-2 relative mx-auto text-gray-600" role="search">
                        <label for="search" class="sr-only">搜索关键词</label>
                        <input id="search" class="w-full border-2 border-gray-300 bg-white h-10 px-3 pr-16 rounded-lg text-sm focus:outline-none" 
                               type="search" name="search" placeholder="输入关键词搜索" aria-label="搜索关键词">
                        <button id="engine" onclick="defaultSearch(event);" class="absolute right-0 top-0 mt-4 mr-4 border-gray-300 bg-white"
                                aria-label="搜索" title="点击搜索">
                            <svg t="1631195014749" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" 
                                 p-id="4225" width="24" height="24" aria-hidden="true" focusable="false">
                                <path d="M430.81460426 808.42087521A388.24537457 388.24537457 0 1 1 430.81460426 31.87499999a388.24537457 388.24537457 0 0 1 0 776.54587522z m0-86.2706249a301.97474968 301.97474968 0 1 0 0-604.00462543 301.97474968 301.97474968 0 0 0 0 604.00462543z" fill="#8a8a8a" p-id="4226"></path>
                                <path d="M689.73672915 615.20774977l305.00662478 305.0617499-60.96824989 61.023375-305.06174989-305.0617499z" fill="#8a8a8a" p-id="4227"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section aria-labelledby="search-results-section" class="search-results">
            <h2 id="search-results-section" class="sr-only">搜索结果</h2>
            <div class="flex justify-center">
                <div class="w-full mx-1 md:3/4 xl:w-1/2 mb-6">
                    <div id="list" role="list" aria-live="polite" aria-label="搜索引擎列表"></div>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer" class="fixed bottom-0 text-sm text-gray-500 text-center w-full mx-auto py-3 hidden">
        <div itemscope itemtype="http://schema.org/Person">
            <span itemprop="name">乱红如雨</span>个人导航站 | 
            <span>联系我们: <a href="mailto:lhqs.gu@gmail.com" itemprop="email">lhqs.gu@gmail.com</a></span>
        </div>
    </footer>


    <template>
        ${data.map(function(obj, index){return `<input type="submit" value=${obj.title} class="mr-2 my-1 px-2 py-1 rounded-md text-sm cursor-pointer bg-gray-200 hover:bg-black hover:text-white" data-url=${obj.url} onclick="change(event)" >`}).join('')}
    </template>

    <script>
        let engine = document.getElementById('engine');
        let search = document.getElementById('search');
        let list = document.getElementById('list');
        // let nickname = document.getElementById('nickname');
        let slogan = document.getElementById('slogan');
        search.addEventListener("keydown", e => {
            if(e.code === "Enter"){
                window.open("https://www.google.com/search?q=" + search.value, "_blank");
            }
        });

        // let customText = location.search.substring(1).split("=");
        // console.log('customText', customText);
        // let nameJson = location.search.substring(1).split("=")[1];
        // if(!nameJson){
        //     nameJson = 'urls';
        // }else{
        //     nickname.innerText = nameJson;
        // }

        function change(event){
            const newQuery = search.value;
            const value = event.target.value;
            engine.innerHTML = value;
            engine.value = newQuery;
            const url = event.target.dataset['url'];
            engine.dataset["newlink"] = url;
            const searchDigest =  'return ' + '`' + url + '`'
            const func = new Function('query', searchDigest);
            const searchLocation = func(newQuery);
            window.open(searchLocation);
        }
        function defaultSearch(event){
            const url = event.target.dataset['newlink'];
            if(url){
                const str =  'return ' + '`' + url + '`';
                const func = new Function('query', str);
                window.open(func(search.value));
            }else {
                window.open("https://www.google.com/search?q=" + search.value);
            }
        }

        String.prototype.customHandle = function (params) {
            return new Function('data', `return \`${this}\`;`)(...[params]);
        };

        let strTemplate = document.querySelector('template').innerHTML;
        fetch('./data/search.json').then(res => {
            return res.json();
        }).then(json => {
            for (const key in json.data){
                let divDom = document.createElement('div');
                divDom.innerHTML = '<div class="text-sm text-gray-400 mt-2">'+ json.data[key].tag + '</div>' +  strTemplate.customHandle(json.data[key].list);
                list.append(divDom);
            }
        });

    </script>

</body>
</html>


